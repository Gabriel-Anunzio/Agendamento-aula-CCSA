<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agendamento de Aulas</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: '#CC181E', // Mackenzie Red
                        secondary: '#991216', // Darker Red
                        dark: '#1e293b', // Slate 800
                        surface: '#f8fafc', // Slate 50
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- Firebase SDK (Compat version for easier integration) -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

    <style>
        :root {
            --m-red-base: #CC181E;
            --m-red-dark: #A01217;
            --m-red-light: #E11D24;
            --m-red-tint: #FDECEC;
            --slate-50: #F8FAFC;
            --slate-100: #F1F5F9;
            --slate-200: #E2E8F0;
            --slate-600: #475569;
            --slate-800: #1E293B;
            --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
            --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            --shadow-premium: 0 20px 25px -5px rgb(204 24 30 / 0.1), 0 8px 10px -6px rgb(204 24 30 / 0.1);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--slate-50);
            color: var(--slate-800);
            letter-spacing: -0.011em;
        }

        /* Glassmorphism Classes */
        .glass-white {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px) saturate(180%);
            -webkit-backdrop-filter: blur(12px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .glass-red {
            background: rgba(204, 24, 30, 0.9);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Custom Scrollbar - Sophisticated and hidden-ish */
        ::-webkit-scrollbar {
            width: 5px;
            height: 5px;
        }

        ::-webkit-scrollbar-thumb {
            background-color: var(--slate-200);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background-color: var(--m-red-base);
            opacity: 0.5;
        }

        /* Grid Configuration */
        .week-grid {
            display: grid;
            grid-template-columns: 65px repeat(7, minmax(150px, 1fr));
            grid-template-rows: auto;
        }

        @media (max-width: 1023px) {
            .week-grid {
                grid-template-columns: 55px repeat(7, minmax(130px, 1fr));
            }
        }

        .delete-btn {
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .item-row:hover .delete-btn {
            opacity: 1;
            transform: scale(1);
        }

        @media (max-width: 640px) {
            .delete-btn {
                opacity: 1;
                transform: scale(1);
            }
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* Premium Buttons */
        .btn-premium {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            position: relative;
            overflow: hidden;
        }

        .btn-premium:active {
            transform: scale(0.96);
        }

        .btn-stage-active {
            background: white !important;
            color: var(--m-red-base) !important;
            box-shadow: var(--shadow-lg);
            transform: translateY(-1px);
        }

        /* Layout Elements */
        #desktop-logo {
            display: none;
        }

        #mobile-logo {
            display: flex;
        }

        @media (min-width: 1024px) {
            #desktop-logo {
                display: flex;
            }

            #mobile-logo {
                display: none;
            }
        }

        /* Card Animation */
        @keyframes cardFadeIn {
            from {
                opacity: 0;
                transform: translateY(8px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-card {
            animation: cardFadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }
    </style>
</head>

<body class="h-screen flex flex-col overflow-hidden">

    <!-- Header: Premium Architecture -->
    <header class="bg-[#B9141A] text-white z-50 shadow-[0_4px_20px_-5px_rgba(0,0,0,0.3)] relative">
        <!-- Decoration Line -->
        <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-400 via-white to-red-400 opacity-20">
        </div>

        <!-- Top bar -->
        <div class="max-w-[1920px] mx-auto flex flex-row justify-between items-center px-5 py-4 sm:py-5">
            <!-- Branding -->
            <div id="desktop-logo" class="flex items-center gap-4 group cursor-default">
                <div
                    class="bg-white p-2 rounded-2xl shadow-[0_4px_15px_-3px_rgba(255,255,255,0.4)] transform group-hover:rotate-3 transition-transform duration-500">
                    <i data-lucide="calendar" class="w-7 h-7 text-[#B9141A]"></i>
                </div>
                <div class="flex flex-col">
                    <h1 class="text-2xl font-black tracking-tighter leading-none uppercase italic">Mackenzie</h1>
                    <p class="text-[11px] font-bold text-red-100 uppercase tracking-[0.2em] mt-1 opacity-80">Social
                        Sciences Center</p>
                </div>
            </div>

            <div id="mobile-logo" class="flex items-center gap-2">
                <div class="bg-white p-1 rounded-lg">
                    <i data-lucide="calendar" class="w-4 h-4 text-[#B9141A]"></i>
                </div>
                <h1 class="text-lg font-black uppercase tracking-tight italic">Mackenzie</h1>
            </div>

            <!-- Global Actions -->
            <div class="flex items-center gap-3 sm:gap-6">
                <!-- Navigation Pack -->
                <div class="flex items-center bg-black/15 rounded-2xl p-1.5 border border-white/10 shadow-inner">
                    <button onclick="goToToday()"
                        class="btn-premium px-5 py-2.5 text-[11px] uppercase tracking-widest hover:bg-white/10 rounded-xl transition">Hoje</button>
                    <div class="w-px h-5 bg-white/20 mx-1.5"></div>
                    <button onclick="changeWeek(-1)"
                        class="btn-premium p-2.5 hover:bg-white/10 rounded-xl transition-all"><i
                            data-lucide="chevron-left" class="w-5 h-5"></i></button>
                    <button onclick="changeWeek(1)"
                        class="btn-premium p-2.5 hover:bg-white/10 rounded-xl transition-all"><i
                            data-lucide="chevron-right" class="w-5 h-5"></i></button>
                </div>

                <button onclick="openAdminLogin()"
                    class="btn-premium w-11 h-11 sm:w-12 sm:h-12 bg-white/10 hover:bg-white/20 border border-white/20 rounded-2xl shadow-xl transition-all active:bg-white/30"
                    title="Configurações Admin">
                    <i data-lucide="settings" class="w-5 h-5 sm:w-6 sm:h-6"></i>
                </button>
            </div>
        </div>

        <!-- Bottom bar: Refined Controls -->
        <div class="bg-black/5 px-5 py-3 sm:py-4 border-t border-white/10">
            <div class="max-w-[1920px] mx-auto flex flex-col xl:flex-row items-stretch xl:items-center gap-4">
                <!-- Stage Switcher -->
                <div
                    class="flex-1 flex bg-black/20 rounded-2xl p-1.5 gap-1.5 overflow-x-auto no-scrollbar shadow-inner">
                    <button onclick="switchStage(1)" id="stage-btn-1"
                        class="btn-premium flex-1 px-6 py-3 text-[12px] sm:text-[13px] font-black rounded-xl whitespace-nowrap transition-all duration-500 uppercase tracking-tight">Etapa
                        1</button>
                    <button onclick="switchStage(2)" id="stage-btn-2"
                        class="btn-premium flex-1 px-6 py-3 text-[12px] sm:text-[13px] font-black rounded-xl whitespace-nowrap transition-all duration-500 uppercase tracking-tight">Etapa
                        2</button>
                    <button onclick="switchStage(3)" id="stage-btn-3"
                        class="btn-premium flex-1 px-6 py-3 text-[12px] sm:text-[13px] font-black rounded-xl whitespace-nowrap transition-all duration-500 uppercase tracking-tight">Etapa
                        3</button>
                    <button onclick="switchStage(4)" id="stage-btn-4"
                        class="btn-premium flex-1 px-6 py-3 text-[12px] sm:text-[13px] font-black rounded-xl whitespace-nowrap transition-all duration-500 uppercase tracking-tight">Etapa
                        4</button>
                </div>

                <!-- Strategic Spacing -->
                <div class="hidden xl:block w-px h-8 bg-white/10"></div>

                <!-- Date Selection Section -->
                <div class="flex items-center gap-3">
                    <div class="flex-1 xl:flex-none relative group">
                        <select id="month-select"
                            class="w-full btn-premium appearance-none bg-white text-gray-900 px-6 py-3.5 pr-12 text-[13px] font-black rounded-2xl border-none shadow-[0_10px_20px_-5px_rgba(0,0,0,0.1)] cursor-pointer outline-none focus:ring-2 focus:ring-red-400">
                            <option value="0">JANEIRO</option>
                            <option value="1">FEVEREIRO</option>
                            <option value="2">MARÇO</option>
                            <option value="3">ABRIL</option>
                            <option value="4">MAIO</option>
                            <option value="5">JUNHO</option>
                            <option value="6">JULHO</option>
                            <option value="7">AGOSTO</option>
                            <option value="8">SETEMBRO</option>
                            <option value="9">OUTUBRO</option>
                            <option value="10">NOVEMBRO</option>
                            <option value="11">DEZEMBRO</option>
                        </select>
                        <i data-lucide="chevron-down"
                            class="absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-red-600 pointer-events-none transition-transform group-hover:translate-y-[-40%]"></i>
                    </div>

                    <div class="relative group">
                        <select id="year-select"
                            class="btn-premium appearance-none bg-white text-gray-900 px-8 py-3.5 text-[13px] font-black rounded-2xl border-none shadow-[0_10px_20px_-5px_rgba(0,0,0,0.1)] cursor-pointer outline-none focus:ring-2 focus:ring-red-400">
                            <option value="2026">2026</option>
                            <option value="2027">2027</option>
                            <option value="2028">2028</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Calendar Area -->
    <main class="flex-1 flex flex-col overflow-hidden relative bg-white">
        <!-- Week Header -->
        <div class="overflow-hidden border-b border-slate-200 bg-slate-50/80 backdrop-blur-md sticky top-0 z-30">
            <div id="week-header"
                class="grid grid-cols-[65px_repeat(7,minmax(150px,1fr))] lg:grid-cols-[65px_repeat(7,minmax(150px,1fr))] max-lg:grid-cols-[55px_repeat(7,minmax(130px,1fr))]">
                <div class="p-3 border-r border-slate-200 bg-slate-100/50 flex items-center justify-center">
                    <i data-lucide="clock" class="w-4 h-4 text-slate-400"></i>
                </div>
                <div id="header-sun" class="p-2 sm:p-3 text-center border-r border-slate-200/60 last:border-0"></div>
                <div id="header-mon" class="p-2 sm:p-3 text-center border-r border-slate-200/60 last:border-0"></div>
                <div id="header-tue" class="p-2 sm:p-3 text-center border-r border-slate-200/60 last:border-0"></div>
                <div id="header-wed" class="p-2 sm:p-3 text-center border-r border-slate-200/60 last:border-0"></div>
                <div id="header-thu" class="p-2 sm:p-3 text-center border-r border-slate-200/60 last:border-0"></div>
                <div id="header-fri" class="p-2 sm:p-3 text-center border-r border-slate-200/60 last:border-0"></div>
                <div id="header-sat" class="p-2 sm:p-3 text-center border-r border-slate-200/60 last:border-0"></div>
            </div>
        </div>

        <!-- Scrollable Grid Container -->
        <div id="calendar-scroll" class="flex-1 overflow-auto bg-slate-50/30">
            <div id="week-grid" class="week-grid">
                <!-- Injected by JS -->
            </div>
        </div>
    </main>

    <!-- Edit Modal -->
    <div id="edit-modal"
        class="fixed inset-0 bg-slate-900/60 hidden flex items-center justify-center z-[100] backdrop-blur-md transition-all duration-300">
        <div
            class="glass-white rounded-3xl w-full max-w-lg shadow-[0_32px_64px_-15px_rgba(0,0,0,0.3)] flex flex-col max-h-[90vh] overflow-hidden m-4 transform animate-card border border-white/40">
            <div class="px-8 py-6 border-b border-slate-200/60 flex justify-between items-center bg-white/50">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-red-50 flex items-center justify-center">
                        <i data-lucide="plus-circle" class="text-red-600 w-6 h-6"></i>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-gray-900">Agendar Aula</h3>
                        <p id="edit-slot-info" class="text-[11px] font-bold text-slate-400 uppercase tracking-widest">
                        </p>
                    </div>
                </div>
                <button onclick="closeEditModal()"
                    class="w-10 h-10 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors text-slate-400 hover:text-red-600">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>

            <div class="p-8 overflow-y-auto custom-scroll">
                <!-- Existing Items List -->
                <div id="existing-items" class="mb-8 space-y-4"></div>

                <form id="assignment-form" class="space-y-6 pt-6 border-t border-slate-100">
                    <!-- Axis Type Selector -->
                    <div class="p-1.5 bg-slate-100 rounded-2xl grid grid-cols-2 gap-2">
                        <label class="cursor-pointer">
                            <input type="radio" name="axis-type" value="specific" class="peer sr-only" checked
                                onchange="updateFormVisibility()">
                            <div
                                class="py-3 rounded-xl text-center peer-checked:bg-white peer-checked:text-red-700 peer-checked:shadow-sm transition-all text-slate-500 text-xs font-black uppercase tracking-wide">
                                Eixo Específico
                            </div>
                        </label>
                        <label class="cursor-pointer">
                            <input type="radio" name="axis-type" value="common" class="peer sr-only"
                                onchange="updateFormVisibility()">
                            <div
                                class="py-3 rounded-xl text-center peer-checked:bg-white peer-checked:text-slate-800 peer-checked:shadow-sm transition-all text-slate-500 text-xs font-black uppercase tracking-wide">
                                Eixo Comum
                            </div>
                        </label>
                    </div>

                    <div class="space-y-4">
                        <!-- Course Selector -->
                        <div id="course-select-wrapper" class="space-y-1.5">
                            <label
                                class="block text-[11px] uppercase text-slate-400 font-black tracking-widest ml-1">Curso</label>
                            <div class="relative">
                                <select id="course-select"
                                    class="w-full bg-white border border-slate-200 rounded-2xl py-3.5 px-5 text-gray-900 text-sm font-semibold focus:ring-2 focus:ring-red-100 focus:border-red-400 transition-all outline-none appearance-none"
                                    onchange="updateSubjectOptions()">
                                </select>
                                <i data-lucide="chevron-down"
                                    class="absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300 pointer-events-none"></i>
                            </div>
                        </div>

                        <!-- Subject -->
                        <div class="space-y-1.5">
                            <label
                                class="block text-[11px] uppercase text-slate-400 font-black tracking-widest ml-1">Componente
                                Curricular</label>
                            <div class="relative">
                                <select id="subject-select"
                                    class="w-full bg-white border border-slate-200 rounded-2xl py-3.5 px-5 text-gray-900 text-sm font-semibold focus:ring-2 focus:ring-red-100 focus:border-red-400 transition-all outline-none appearance-none"
                                    onchange="autoFillTeacher()">
                                </select>
                                <i data-lucide="chevron-down"
                                    class="absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-300 pointer-events-none"></i>
                            </div>
                        </div>

                        <!-- Teacher -->
                        <div class="space-y-1.5">
                            <label
                                class="block text-[11px] uppercase text-slate-400 font-black tracking-widest ml-1">Professor
                                Responsável</label>
                            <div
                                class="flex items-center gap-3 bg-slate-50 border border-slate-100 rounded-2xl py-3.5 px-5 select-none">
                                <i data-lucide="user" class="w-4 h-4 text-red-400"></i>
                                <input type="text" id="teacher-name" readonly
                                    class="bg-transparent border-none p-0 text-gray-700 text-sm font-bold w-full outline-none cursor-default">
                            </div>
                        </div>

                        <!-- Sync Logic UI Refined -->
                        <div id="sync-ui-wrapper" class="hidden space-y-3">
                            <button type="button" onclick="toggleSyncArea()" id="sync-toggle-btn"
                                class="flex items-center gap-2 text-slate-400 hover:text-red-600 transition-colors py-1 group">
                                <span id="sync-icon-container"
                                    class="w-6 h-6 rounded-lg bg-slate-100 flex items-center justify-center group-hover:bg-red-50 transition-colors">
                                    <i data-lucide="plus" class="w-3.5 h-3.5"></i>
                                </span>
                                <span class="text-[10px] font-black uppercase tracking-widest">Sincronizar entre
                                    etapas</span>
                            </button>

                            <div id="sync-expandable" class="hidden animate-in zoom-in-95 fade-in duration-300">
                                <div class="p-4 bg-slate-50 border border-slate-200 rounded-2xl">
                                    <div class="flex items-start gap-2 mb-3">
                                        <i data-lucide="info" class="w-3.5 h-3.5 text-red-500 mt-0.5"></i>
                                        <p class="text-[10px] text-slate-500 font-bold uppercase leading-tight">
                                            Essa aba é exclusiva para aulas compartilhadas entre etapas
                                        </p>
                                    </div>
                                    <div class="relative">
                                        <select id="sync-select"
                                            class="w-full bg-white border border-slate-200 rounded-xl py-2 px-4 text-gray-900 text-[11px] font-bold outline-none ring-red-100 appearance-none">
                                        </select>
                                        <i data-lucide="chevron-down"
                                            class="absolute right-3 top-1/2 -translate-y-1/2 w-3 h-3 text-slate-300 pointer-events-none"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="error-msg"
                        class="p-4 bg-red-50 border border-red-100 rounded-2xl text-red-600 text-[12px] font-bold hidden flex items-center gap-2 animate-bounce">
                        <i data-lucide="alert-circle" class="w-4 h-4"></i>
                        <span></span>
                    </div>

                    <button type="submit"
                        class="w-full py-4 rounded-2xl bg-[#CC181E] hover:bg-[#A01217] text-white font-black uppercase tracking-widest text-xs transition-all shadow-[0_15px_30px_-10px_rgba(204,24,30,0.4)] active:scale-[0.98]">
                        Confirmar Agendamento
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Global Access Protection Modal -->
    <div id="global-access-modal"
        class="fixed inset-0 bg-[#B9141A] flex items-center justify-center z-[1000] backdrop-blur-xl">
        <div
            class="glass-white rounded-[3rem] w-full max-w-md shadow-2xl p-10 animate-card mx-4 border-white/20 border">
            <div class="text-center mb-10">
                <div
                    class="w-20 h-20 bg-red-100 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-inner">
                    <i data-lucide="lock" class="w-10 h-10 text-red-600"></i>
                </div>
                <h2 class="text-3xl font-black text-gray-900 italic uppercase leading-none">Acesso Restrito</h2>
                <div class="h-1 w-12 bg-red-600 mx-auto mt-4 rounded-full"></div>
                <p class="text-[10px] text-slate-400 font-bold uppercase tracking-[0.2em] mt-6">Insira a senha de acesso
                    para continuar</p>
            </div>

            <div class="space-y-6">
                <div>
                    <input type="password" id="global-password-input"
                        class="w-full bg-slate-100/50 border-2 border-transparent rounded-[2rem] py-5 px-8 text-center text-xl font-bold text-gray-900 focus:border-red-600 focus:bg-white transition-all outline-none shadow-inner"
                        placeholder="••••••••" onkeydown="if(event.key === 'Enter') checkGlobalAccess()">
                </div>
                <div id="global-password-error"
                    class="text-red-600 text-[11px] font-black uppercase text-center hidden animate-bounce">
                    Senha de acesso incorreta</div>

                <button onclick="checkGlobalAccess()"
                    class="w-full py-5 rounded-[2rem] bg-gray-900 text-white font-black uppercase tracking-widest text-sm shadow-[0_20px_40px_-10px_rgba(0,0,0,0.3)] hover:bg-black hover:-translate-y-1 transition-all active:scale-95">
                    Entrar no Sistema
                </button>

                <p class="text-center text-[9px] text-slate-400 font-medium uppercase tracking-wider mt-4">CCSA - Gestão
                    de Agendamentos</p>
            </div>
        </div>
    </div>

    <!-- Admin & Modals Section -->
    <div id="admin-login-modal"
        class="fixed inset-0 bg-slate-900/40 hidden flex items-center justify-center z-[120] backdrop-blur-md">
        <div class="glass-white rounded-3xl w-full max-w-sm shadow-2xl p-8 animate-card">
            <div class="text-center mb-8">
                <div class="w-16 h-16 bg-red-100 rounded-2xl flex items-center justify-center mx-auto mb-4">
                    <i data-lucide="shield-check" class="w-8 h-8 text-red-600"></i>
                </div>
                <h3 class="text-2xl font-black text-gray-900 italic uppercase">Admin Access</h3>
                <p class="text-xs text-slate-400 font-bold uppercase tracking-widest mt-1">Credentials Required</p>
            </div>

            <div class="space-y-4">
                <div>
                    <input type="password" id="admin-password"
                        class="w-full bg-slate-100/50 border-none rounded-2xl py-4 px-6 text-center text-lg font-bold text-gray-900 focus:ring-2 focus:ring-red-300 transition-all outline-none"
                        placeholder="••••••••">
                </div>
                <div id="admin-password-error" class="text-red-600 text-[11px] font-black uppercase text-center hidden">
                    Senha de segurança inválida</div>
                <div class="grid grid-cols-2 gap-3 mt-6">
                    <button onclick="closeAdminLogin()"
                        class="py-4 rounded-2xl font-bold text-slate-400 hover:text-slate-600 transition-colors uppercase text-xs">Sair</button>
                    <button onclick="checkAdminPassword()"
                        class="py-4 rounded-2xl bg-gray-900 text-white font-black uppercase tracking-widest text-xs shadow-lg hover:bg-black transition-all active:scale-95">Acessar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Settings Modal -->
    <div id="admin-settings-modal"
        class="fixed inset-0 bg-black/50 hidden flex items-center justify-center z-[120] backdrop-blur-sm">
        <div class="glass bg-white rounded-xl w-full max-w-md shadow-2xl flex flex-col max-h-[90vh]">
            <div class="p-6 border-b border-slate-200 flex justify-between items-center">
                <h3 class="text-xl font-bold text-slate-800 flex items-center gap-2">
                    <i data-lucide="settings-2" class="text-red-600"></i>
                    Configurações Avançadas
                </h3>
                <button onclick="closeAdminSettings()" class="text-slate-400 hover:text-red-600"><i
                        data-lucide="x"></i></button>
            </div>
            <div class="p-6 overflow-y-auto">
                <!-- Delete All -->
                <div class="mb-8 p-4 bg-red-50 rounded-lg border border-red-100">
                    <h4 class="text-sm font-bold text-red-700 mb-2 uppercase tracking-wide">Zona de Perigo</h4>
                    <p class="text-xs text-red-600 mb-4">Atenção: Esta ação irá apagar TODOS os agendamentos e eventos
                        salvos permanentemente.</p>
                    <button onclick="confirmClearAll()"
                        class="w-full py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-bold transition flex items-center justify-center gap-2">
                        <i data-lucide="trash-2" class="w-4 h-4"></i>
                        Limpar Todos os Dados
                    </button>
                </div>

                <hr class="mb-6 border-slate-100">

                <!-- Add Event -->
                <div>
                    <h4 class="text-sm font-bold text-slate-700 mb-4 uppercase tracking-wide">Adicionar Evento Especial
                    </h4>
                    <form id="admin-event-form" class="space-y-4">
                        <div>
                            <label class="block text-xs uppercase text-slate-500 font-bold mb-1">Título do
                                Evento</label>
                            <input type="text" id="event-text" required placeholder="Ex: Evento Business 9 horas"
                                class="w-full bg-slate-50 border border-slate-300 rounded-lg p-2 text-slate-800 text-sm focus:ring-2 focus:ring-primary focus:outline-none">
                        </div>
                        <div>
                            <label class="block text-xs uppercase text-slate-500 font-bold mb-1">Data</label>
                            <input type="date" id="event-date" required
                                class="w-full bg-slate-50 border border-slate-300 rounded-lg p-2 text-slate-800 text-sm focus:ring-2 focus:ring-primary focus:outline-none">
                        </div>
                        <button type="submit"
                            class="w-full py-2 bg-slate-800 hover:bg-black text-white rounded-lg text-sm font-bold transition">
                            Agendar Evento
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Password Modal -->
    <div id="password-modal"
        class="fixed inset-0 bg-black/50 hidden flex items-center justify-center z-[110] backdrop-blur-sm">
        <div class="glass bg-white rounded-xl w-full max-w-sm shadow-2xl flex flex-col">
            <div class="p-6 border-b border-slate-200">
                <h3 class="text-xl font-bold text-red-600 flex items-center gap-2">
                    <i data-lucide="lock" class="w-5 h-5"></i>
                    Excluir Aula
                </h3>
            </div>
            <div class="p-6">
                <p class="text-sm text-slate-600 mb-4">Para confirmar a exclusão, digite a senha de segurança.</p>
                <div class="space-y-4">
                    <div>
                        <label class="block text-xs uppercase text-slate-500 font-bold mb-1">Senha</label>
                        <input type="password" id="delete-password"
                            class="w-full bg-slate-50 border border-slate-300 rounded-lg p-2 text-slate-800 text-sm focus:ring-2 focus:ring-red-600 focus:outline-none"
                            placeholder="Digite a senha...">
                    </div>
                    <div id="password-error" class="text-red-500 text-xs hidden font-bold">Senha incorreta!</div>
                    <div class="flex gap-3 mt-4">
                        <button onclick="closePasswordModal()"
                            class="flex-1 py-2 rounded-lg bg-slate-200 hover:bg-slate-300 text-slate-700 font-semibold transition text-sm">Cancelar</button>
                        <button onclick="checkPassword()"
                            class="flex-1 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold transition text-sm">Excluir</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast"
        class="fixed bottom-8 left-1/2 -translate-x-1/2 lg:left-auto lg:right-8 lg:translate-x-0 bg-gray-900 text-white px-8 py-5 rounded-[2rem] shadow-2xl translate-y-24 opacity-0 transition-all duration-500 flex items-center gap-4 z-[1000] border border-white/10">
        <div class="w-10 h-10 rounded-full bg-green-500/20 flex items-center justify-center">
            <i data-lucide="check" class="text-green-400 w-6 h-6"></i>
        </div>
        <div class="flex flex-col">
            <span class="text-xs font-black uppercase tracking-widest text-white/50">Sistema Mack</span>
            <span id="toast-msg" class="text-sm font-bold">Sucesso ao realizar operação.</span>
        </div>
    </div>

    <script src="app.js"></script>
</body>

</html>